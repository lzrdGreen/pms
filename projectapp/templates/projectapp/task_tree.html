<!DOCTYPE html>
<html lang="en">
<head>
  {% load static %}
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/jsmind@0.4.6/js/jsmind.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsmind@0.4.6/style/jsmind.css">
  <title>{{ project.title }} - Task Tree</title>
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <style>
    /* Customize the node colors */
    .jsmind-node {
      background-color: #2166ac !important;
    }
  </style>
</head>
<body>
  <h1 style="text-align: center; color: #2166ac !important;">{{ project.title }} - Task Tree Visualisation</h1>
  <div id="jsmind_container" style="width:100%;height:500px;border:solid 1px #ccc;"></div>
  <footer>
    <p>&copy; 2024 O.Parshakov</p>
    <p>Dream it. Build it.</p>
  </footer>
  <!-- Directly output JSON as JavaScript variable -->
  <script>
    const taskTree = {{ task_tree|safe }};
    
    var mind = {
      "meta": {
        "name": "example",
        "author": "jsMind",
        "version": "0.2"
      },
      "format": "node_array",
      "data": taskTree
    };

    var options = {
      container: 'jsmind_container',
      editable: true,
      theme: 'primary'
    };

    var jm = new jsMind(options);
    jm.show(mind);
  </script>
</body>
</html>
